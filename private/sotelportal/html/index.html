<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="/public/css/smoothness/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="index.css" />
    <script src="/public/js/jquery.js" type="text/javascript"></script>
    <script src="/public/js/jquery-ui.js" type="text/javascript"></script>
    <script src="/public/js/coffee-script.js" type="text/javascript"></script>
    <script src="/public/js/coffeekup.js" type="text/javascript"></script>
    <script src="/public/js/sammy.js" type="text/javascript"></script>
    <script src="/public/js/Socket.IO/socket.io.js" type="text/javascript"></script>
    <script src="/public/js/jquery.validate.js" type="text/javascript"></script>

    <script src="/public/js/jquery.deserialize.js" type="text/javascript"></script>
    <script type="text/coffeescript">
    $.fn.brew = (url)->
        selector = @
        $.ajax
          url: "#{url}.coffee"
          dataType: 'text'
          error: (_jq,status) ->
            console.log "Error: #{status}"
          success: (data)->
            try
              $(selector).html CoffeeKup.render data
            catch error
              console.log "CoffeKup says: #{error} in #{data}"
            return if error?

            $.ajax
              url: "#{url}.client.coffee"
              dataType: 'text'
              error: (_jq,status) ->
                console.log "Error: #{status}"
              success: (data)->
                try
                  script = CoffeeScript.compile data
                  eval script
                catch error
                  console.log "CoffeeScript says: #{error} in #{data}"
                return if error?
    </script>

    <script src="index.coffee" type="text/coffeescript"></script>
  </head>
  <body>
    <img src="/public/images/indicator.white.gif" />
  </body>
</html>
