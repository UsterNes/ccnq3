ccnq3 (0.0.247) unstable; urgency=medium

  * opensips: corrected host_info retrieval
  * opensips: state is also in dr_carriers.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 24 Dec 2013 11:52:43 +0100

ccnq3 (0.0.246) unstable; urgency=medium

  * opensips: Add statistics module (for upcoming user stats).
  * test: documented freeswitch-release
  * opensips: unified E_SCRIPT event into a single event (this might still get reverted later, but simplifies for now).
  * voicemail: only answer the call inside the service.
  * voicemail: make_cleanup must handle errors, but callback is optional.
  * voicemail: catch errors to prevent throw()

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 24 Dec 2013 11:35:23 +0100

ccnq3 (0.0.245) unstable; urgency=medium

  * Remove X-CCNQ3-Number-Domain when sending to upstream.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 16 Dec 2013 21:48:43 +0100

ccnq3 (0.0.244) unstable; urgency=medium

  * match current nodejs version

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 14 Dec 2013 23:26:29 +0100

ccnq3 (0.0.243) unstable; urgency=medium

  * opensips: removed `accounting` module

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 11 Dec 2013 22:21:40 +0100

ccnq3 (0.0.242) unstable; urgency=medium

  * opensips: starting to get rid of `macros`
  * opensips: initial code for notify_on_registrant_failure
  * opensips: removed macro processing
  * opensips: do not generate empty statements.
  * amqp: work around default change in amqp module

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 11 Dec 2013 22:14:36 +0100

ccnq3 (0.0.241) unstable; urgency=low

  * debian: bump freeswitch version to installable one
  * test: freeswitch-release (initial)
  * test: initial attempt with sipp
  * test: no stats, no media
  * test: valid test-with-reinvite
  * test: more logs!
  * freeswitch: multiunset before re-INVITEs come in
  * test: updated test suite that shows the difference
  * freeswitch dep: latest update

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 09 Dec 2013 20:58:47 +0100

ccnq3 (0.0.240) unstable; urgency=low

  * opensips: cleanup headers
  * opensips: Corrected syntax for dlg_flags.
  * opensips: can't mix strings and numbers, and no way to convert numbers to string.
  * test: opensips set debug level and match log level.
  * downgrade freeswitch
  * Added SIP warning.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 07 Dec 2013 01:16:43 +0100

ccnq3 (0.0.239) unstable; urgency=low

  * opensips: dr_gateways' state must be provided.
  * opensips: set db_http timeout at 60s since dr_rules might take a long time to download.
  * tools: validate at least the prefix.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 20:41:58 +0100

ccnq3 (0.0.238) unstable; urgency=low

  * opensips: emergency profile: provide for register handling

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 19:07:45 +0100

ccnq3 (0.0.237) unstable; urgency=low

  * opensips: again, for `emergency` profile, the dialog module is not available.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 18:37:19 +0100

ccnq3 (0.0.236) unstable; urgency=low

  * opensips: simplify macro preprocessor
  * opensips: emergency profile never forwards INVITE messages.
  * opensips: only subscribe pike event if it might be emitted.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 18:11:03 +0100

ccnq3 (0.0.235) unstable; urgency=low

  * opensips: corrected rabbitmq destinations
  * opensips: only call forwarder routines if it is present.
  * opensips: only raise-able events might be registered.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 17:49:20 +0100

ccnq3 (0.0.234) unstable; urgency=low

  * update deps for opensips

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 17:49:04 +0100

ccnq3 (0.0.233) unstable; urgency=low

  * registrant: default config to params for api.coffee

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 16:22:14 +0100

ccnq3 (0.0.232) unstable; urgency=low

  * opensips: make routes `attrs` into JSON.
  * registrant: params need access to config for defaults

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 16:01:59 +0100

ccnq3 (0.0.231) unstable; urgency=low

  * Initial fixes for opensips 1.11
  * opensips: proper doc for register-registrar
  * opensips: initial code for `register_check_ip`
  * opensips: document Parameters in fragments.
  * opensips: normalize script events names.
  * doc/opensips: do not document (private) templates `emergency` and `registrant`.
  * opensips: `notify_via_rabbitmq`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Nov 2013 12:53:06 +0100

ccnq3 (0.0.230) unstable; urgency=low

  * Added notes on setting up `dumpcap` for traces.
  * opensips: special_drouting in production

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 23 Nov 2013 09:24:41 +0100

ccnq3 (0.0.229) unstable; urgency=low

  * CFNR test should only be applied for Registration cases.
  * opensips: make-docs; also cleanedup xlog's
  * opensips: prep for new compiler: mediaproxy as conditional
  * opensips: initial-forwarder -> initial_forwarder
  * opensips: invite-handler -> invite_handler
  * opensips: invite-trunk-drouting -> invite_trunk_drouting
  * opensips: try-* -> try_*
  * opensips: *-nat -> *_nat
  * opensips: register_record_route moved out
  * opensips: migrate register* to new compiler
  * opensips: couple internal route names rewrites
  * opensips: force user to specify either `authenticate` or `authenticate-disabled`.
  * opensips: new compiler no longer trims calls to missing `route` statements.
  * opensips: new fragments cross-reference document.
  * opensips: compiler should handle two-level `if` macros
  * opensips: more route names cleanup
  * opensips: avpops module is required in generic (and others)
  * opensips: use standardized names for uac_auth's username, etc. AVPs.
  * opensips: registrant: make sure we properly use the new auth code in b2b apps.
  * opensips: the new tests help figure out plenty of compile-time issues, hooray!
  * opensips: optional Makefile to cleanup the test directory
  * license
  * updated opensips test framework
  * test/freeswitch cleanup
  * registrant out of pkg_mem
  * Updated dependencies.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 22 Nov 2013 10:18:19 +0100

ccnq3 (0.0.228) unstable; urgency=low

  * Replaced nodejs-shimaore with nodejs..~shimaore

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Nov 2013 15:49:50 +0100

ccnq3 (0.0.227) unstable; urgency=low

  * trying to replace nodejs-shimaore with nodejs..~shimaore

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 11 Nov 2013 19:46:48 +0100

ccnq3 (0.0.226) unstable; urgency=low

  * bumped mediaproxy dep again

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 08 Nov 2013 11:21:01 +0100

ccnq3 (0.0.225) unstable; urgency=low

  * bump dependency

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 08 Nov 2013 11:08:18 +0100

ccnq3 (0.0.224) unstable; urgency=low

  * routes: try encoding
  * routes: encoding again
  * install doc: now that we use opensips 1.10 we no longer have the issue.
  * freeswitch: Initial code for english voicemail
  * couch_daemon/registration: don't crash on failure
  * traces/pcap_tail: prevent "multiple listeners" errors
  * Initial Freeswitch "en-us" test code.
  * English numbers test corrections
  * updated for recent en-us-callie sound package layout (different rates are built on the target)
  * freeswitch/lang: added `spell` phrase
  * New `announce` SBC target (egress-only at this time).
  * Update mediaproxy dependency

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 08 Nov 2013 08:12:09 +0100

ccnq3 (0.0.223) unstable; urgency=low

  * munin: Added number of registered opensips endpoints.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 07 Oct 2013 22:04:35 +0200

ccnq3 (0.0.222) unstable; urgency=low

  * munin: SIP statistics on all interfaces

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 07 Oct 2013 12:22:23 +0200

ccnq3 (0.0.221) unstable; urgency=low

  * opensips: cflags changed to `string`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 04 Oct 2013 00:23:45 +0200

ccnq3 (0.0.220) unstable; urgency=low

  * opensips: finally found missing column type

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 03 Oct 2013 22:51:49 +0200

ccnq3 (0.0.219) unstable; urgency=low

  * opensips: also add `sip_instance`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 03 Oct 2013 22:30:51 +0200

ccnq3 (0.0.218) unstable; urgency=low

  * Removed comment that caused trouble.
  * opensips: the new `attr` column was documented in the module but not in the database schema page.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 03 Oct 2013 12:41:49 +0200

ccnq3 (0.0.217) unstable; urgency=low

  * Revert 125968890307392f25f0b603aacc29c0958f198e and rewrite it so that things still work for non-register scenarios (e.g. using `register-ignore`).

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 03 Oct 2013 12:38:21 +0200

ccnq3 (0.0.216) unstable; urgency=low

  * opensips: update `location` table version for opensips 1.10

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 30 Sep 2013 23:07:05 +0200

ccnq3 (0.0.215) unstable; urgency=low

  * debian: update to new (working?) opensips dep

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 30 Sep 2013 22:20:01 +0200

ccnq3 (0.0.213) unstable; urgency=low

  * debian: in recent FreeSwitch packages, the init.d script checks for configuration.
  * debian: point to newer FreeSwitch build

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 30 Sep 2013 20:37:27 +0200

ccnq3 (0.0.211) unstable; urgency=low

  * Update changelog for 0.0.207 release
  * debian: bump up opensips dependency

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 26 Sep 2013 18:16:05 +0200

ccnq3 (0.0.210) unstable; urgency=low

  * Remove unnecessary modules.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 26 Sep 2013 17:15:59 +0200

ccnq3 (0.0.209) unstable; urgency=low

  * Added default value for `options_200`.
  * Added `require_same_auth` endpoint options.
  * Doc: added required indication for registration endpoint fields.
  * Initial set of tests.
  * opensips: use upstream's version of my auth code.
  * debian: common opensips version; opensips: bump to 1.10 dependency.
  * debian: corrected gencontrol usage

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 26 Sep 2013 17:06:44 +0200

ccnq3 (0.0.206) unstable; urgency=low

  * trace: account for weird-cased headers.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 25 Sep 2013 17:28:19 +0200

ccnq3 (0.0.205) unstable; urgency=low

  * opensips: added options_200 to provide default (fake) reply to OPTIONS requests.
  * debian: replace dependency for Node.js

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 24 Sep 2013 13:55:51 +0200

ccnq3 (0.0.204) unstable; urgency=low

  * bin: following the redirect might not work, even though the operation completed successfully.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 19 Sep 2013 17:32:20 +0200

ccnq3 (0.0.203) unstable; urgency=low

  * debian: do not return error if no stray processes were found.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 19 Sep 2013 17:29:53 +0200

ccnq3 (0.0.202) unstable; urgency=low

  * install doc: updated to reflect current news
  * voicemail: still trying to get permissions fixed!

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 11 Sep 2013 18:16:51 +0200

ccnq3 (0.0.201) unstable; urgency=low

  * voicemail/debian: fix permissions on messages directory
  * doc: install libjson0
  * voicemail: revert, other way to address

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 11 Sep 2013 10:32:37 +0200

ccnq3 (0.0.200) unstable; urgency=low

  * opensips: do not create loops on NOTIFY
  * debian: libjson 0.11 causes opensips to crash

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 11 Sep 2013 10:21:02 +0200

ccnq3 (0.0.199) unstable; urgency=low

  * With the release of 1.4.0, revert to using R16B

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sun, 08 Sep 2013 16:17:53 +0200

ccnq3 (0.0.198) unstable; urgency=low

  * traces: corrections for proper packet writing
  * traces: tshark doesn't know what to do with IP fragments

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 30 Aug 2013 17:00:29 +0200

ccnq3 (0.0.197) unstable; urgency=low

  * traces: bugfixes

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 29 Aug 2013 17:37:23 +0200

ccnq3 (0.0.196) unstable; urgency=low

  * traces: corrected varname

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 29 Aug 2013 17:08:36 +0200

ccnq3 (0.0.195) unstable; urgency=low

  * debian: and again

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 29 Aug 2013 00:23:00 +0200

ccnq3 (0.0.194) unstable; urgency=low

  * debian: document erlang dependency issue
  * debian: try again (re erlang deps)

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 23:40:00 +0200

ccnq3 (0.0.193) unstable; urgency=low

  * debian: revert

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 23:30:34 +0200

ccnq3 (0.0.192) unstable; urgency=low

  * debian: trying to enforce erlang version dependency

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 23:18:36 +0200

ccnq3 (0.0.191) unstable; urgency=low

  * debian: add `erlang` as a dependency to force resolution of R15B installation.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 23:07:46 +0200

ccnq3 (0.0.190) unstable; urgency=low

  * traces: actually shouldn't tail at that point
  * traces: properly log `unlink`
  * traces: made pcap_tail into a module
  * trace: initial attempts at full Node.js packet merging/selection.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 12:05:24 +0200

ccnq3 (0.0.189) unstable; urgency=low

  * registration: still getting stuck queues
  * traces: add pcap_tail

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Aug 2013 12:01:58 +0200

ccnq3 (0.0.188) unstable; urgency=low

  * freeswitch: respond 503 to OPTIONS when busy
  * couch_daemon: add timeout for registration requests

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 15 Aug 2013 18:19:04 +0200

ccnq3 (0.0.187) unstable; urgency=low

  * freeswitch: re-export fs_command

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 13 Aug 2013 14:32:50 +0200

ccnq3 (0.0.186) unstable; urgency=low

  * doc: rsyslog without rate-limiting, please
  * FS/cdr swiper: work around EMFILE issue by serializing readdir swiper

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 13 Aug 2013 12:00:46 +0200

ccnq3 (0.0.185) unstable; urgency=low

  * freeswitch/commands: try with double `bind` (might not work) couch_daemon: add `commands` interface.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 05 Aug 2013 22:45:23 +0200

ccnq3 (0.0.184) unstable; urgency=low

  * bin: better layout for `app`; fix `app_*`
  * freeswitch: add `show calls count`, move commands in a separate module, move to new (promise-based) esl
  * freeswitch: add amqp-listener

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 05 Aug 2013 22:14:21 +0200

ccnq3 (0.0.183) unstable; urgency=low

  * Corrected Conflicts line.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 05 Aug 2013 17:57:56 +0200

ccnq3 (0.0.182) unstable; urgency=low

  * bin: `tasks` report
  * bin: add `app` management options

 -- stephane <stephane@voyageur.shimaore.net>  Mon, 05 Aug 2013 17:36:36 +0200

ccnq3 (0.0.181) unstable; urgency=low

  * traces: Added "ip" parameter. (#54)
  * couchdb/debian: R16B breaks CouchDB 1.2.x and 1.3.x

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 02 Aug 2013 15:32:11 +0200

ccnq3 (0.0.180) unstable; urgency=low

  * traces: work around AMQP bug
  * lib: version bump
  * traces: update dependencies to newer ccnq3-lib

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 31 Jul 2013 17:09:22 +0200

ccnq3 (0.0.179) unstable; urgency=low

  * traces: add timeout on children processes
  * traces: more cleanup

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 30 Jul 2013 19:25:58 +0200

ccnq3 (0.0.178) unstable; urgency=low

  * debian: bumped dependency on nodejs 0.10.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 29 Jul 2013 19:49:20 +0200

ccnq3 (0.0.177) unstable; urgency=low

  * registration status: corrected
  * registration status: actually rewrite the result as an hash.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 18 Jun 2013 16:03:11 +0200

ccnq3 (0.0.176) unstable; urgency=low

  * opensips: updates on amqp client

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 18 Jun 2013 15:33:52 +0200

ccnq3 (0.0.175) unstable; urgency=low

  * couch_daemon: support include of litterate coffee

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 18 Jun 2013 14:15:12 +0200

ccnq3 (0.0.174) unstable; urgency=low

  * freeswitch: load module for pbx application
  * lib: initial attempt at formalizing the UDP MI interface
  * `node-uuid` and `uuid` are one and the same?
  * opensips: initial code for AMQP-based registration status retrieval
  * lib: split opensips code out; add response parser and tests.
  * opensips: use the new library version
  * lib: be nice and provide a backlink
  * lib: corrected dependency
  * lib: version bump
  * opensips: clean `<...>`-escaped strings in Contact.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 18 Jun 2013 13:06:30 +0200

ccnq3 (0.0.173) unstable; urgency=low

  * pbx: provide defaults for configuration parameters.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 12 Jun 2013 20:10:38 +0200

ccnq3 (0.0.172) unstable; urgency=low

  * opensips: fix contact on ACK
  * lib/ccnq3: add supercouch support.
  * group creation
  * Initial code for pbx application.
  * pbx: standardized sound files names

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 12 Jun 2013 18:28:57 +0200

ccnq3 (0.0.171) unstable; urgency=low

  * debian: `nice` installation
  * opensips: only attempt registration lookup if the user is a registered user.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 04 Jun 2013 09:24:29 +0200

ccnq3 (0.0.170) unstable; urgency=low

  * opensips: also block REGISTER forwarding in loose-routed path.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 30 May 2013 10:24:06 +0200

ccnq3 (0.0.169) unstable; urgency=low

  * opensips: testing newer `request` version.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 30 May 2013 10:10:42 +0200

ccnq3 (0.0.168) unstable; urgency=low

  * opensips: do not forward REGISTER messages when unnecessary

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 30 May 2013 10:06:02 +0200

ccnq3 (0.0.167) unstable; urgency=low

  * opensips: return immediately when updating data

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 30 May 2013 09:32:51 +0200

ccnq3 (0.0.166) unstable; urgency=low

  * opensips: applied `usrloc_flags` changes everywhere
  * opensips: Enforce min-expires with 423 responses.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 29 May 2013 12:46:47 +0200

ccnq3 (0.0.165) unstable; urgency=low

  * opensips: replaced `usrloc_memory` with `usrloc_flags`.
  * opensips: default `max_contacts` to 0.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 29 May 2013 11:10:58 +0200

ccnq3 (0.0.164) unstable; urgency=low

  * opensips: registrar uses "f" (force) flag as default.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 29 May 2013 01:12:28 +0200

ccnq3 (0.0.163) unstable; urgency=low

  * bin: removing `monitor` from the list of default applications.
  * Added `usrloc_memory` configuration option.
  * Made `max_contacts` into a configurable item.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 29 May 2013 00:50:54 +0200

ccnq3 (0.0.162) unstable; urgency=low

  * freeswitch: do not monitor CPU

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 24 May 2013 22:34:19 +0200

ccnq3 (0.0.161) unstable; urgency=low

  * opensips: detect missing or invalid endpoints

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 24 May 2013 14:08:03 +0200

ccnq3 (0.0.160) unstable; urgency=low

  * munin: added dumpcap_reasons_errors
  * freeswitch: do not start refusing calls at 15% idle

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 24 May 2013 01:22:18 +0200

ccnq3 (0.0.159) unstable; urgency=low

  * Removed the "attachements as scripts" feature.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 22 May 2013 17:55:41 +0200

ccnq3 (0.0.158) unstable; urgency=low

  * opensips: Allow to set the FR (failover) timer value

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 20 May 2013 02:09:10 +0200

ccnq3 (0.0.157) unstable; urgency=low

  * cdrs: do not include views not used in core.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 15 May 2013 15:02:42 +0200

ccnq3 (0.0.156) unstable; urgency=low

  * traces: do not attempt to merge .tmp files.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 14 May 2013 23:22:59 +0200

ccnq3 (0.0.155) unstable; urgency=low

  * rabbitmq HTTP API: followAllRedirects, corrected URIs
  * Added `profile_monitor` view (#50)

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 14 May 2013 20:04:45 +0200

ccnq3 (0.0.154) unstable; urgency=low

  * debian: having issues detecting existing username

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 13 May 2013 13:34:26 +0200

ccnq3 (0.0.153) unstable; urgency=low

  * debian: revert changes related to including `node_modules`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 13 May 2013 13:14:00 +0200

ccnq3 (0.0.152) unstable; urgency=low

  * npm: be more precise about the versions we want
  * debian: include _all_ `node_modules`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 13 May 2013 13:10:04 +0200

ccnq3 (0.0.151) unstable; urgency=low

  * debian: include `node_modules` in the packages
  * app/host: do not attempt to push `_design/host` twice.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 13 May 2013 12:59:39 +0200

ccnq3 (0.0.150) unstable; urgency=low

  * deps: replaced deprecated package.
  * opensips: document `use_endpoint_outbound_route`
  * opensips: add `use_endpoint_outbound_route` (for completeness)
  * doc: revised the various `outbound_route` options and summarized in one location.
  * doc: update dep
  * traces: stubbornly refuse to print out all packets.
  * Trying to get automated buildpackage in Travis-CI.
  * Travis: renamed 'test' to 'lint', we're missing global deps.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 09 May 2013 23:38:00 +0200

ccnq3 (0.0.149) unstable; urgency=low

  * opensips: allow inbound_sbc even if ignore_static_endpoints is set

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 04 May 2013 09:58:50 +0200

ccnq3 (0.0.148) unstable; urgency=low

  * customer-sbc: remove extraneous headers

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 01 May 2013 18:31:47 +0200

ccnq3 (0.0.147) unstable; urgency=low

  * sbc: remove leaking header
  * ccnq3-opensips: slightly longer pause at startup
  * opensips: fixing UPDATE processing

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 01 May 2013 00:18:39 +0200

ccnq3 (0.0.146) unstable; urgency=low

  * traces: rename temp files so that mergecap doesn't find them.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 25 Apr 2013 00:23:52 +0200

ccnq3 (0.0.145) unstable; urgency=low

  * debian: restart is required in init

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 24 Apr 2013 18:25:11 +0200

ccnq3 (0.0.144) unstable; urgency=low

  * opensips: domain-based outbound-route selection.
  * dependencies: with the breakage introduced by request 2.18.0, reverting to safe path for now.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 22 Apr 2013 18:52:54 +0200

ccnq3 (0.0.143) unstable; urgency=low

  * tmp purge: trying to track down why this doesn't work on all systems.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 20 Apr 2013 10:32:59 +0200

ccnq3 (0.0.142) unstable; urgency=low

  * bin: Make ccnq3 useable as a module
  * fs-agent: cleanup return
  * host: push the _design document (it only contains filters) to all hosts

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 16 Apr 2013 12:10:20 +0200

ccnq3 (0.0.141) unstable; urgency=low

  * simplify
  * wait 30 minutes before expiring mergecap (traces) files
  * trying to get reliable opensips startup at boot time

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 15 Apr 2013 10:16:17 +0200

ccnq3 (0.0.140) unstable; urgency=low

  * opensips: corrected macro syntax

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 13 Apr 2013 00:14:11 +0200

ccnq3 (0.0.139) unstable; urgency=low

  * opensips: avoid setting a value to null
  * opensips: added `ignore_static_endpoints` option
  * Check for disabled endpoint _after_ it is fully resolved.
  * Move rate_limit code out of authentication and to its proper place.
  * No Device Left Behind: ignore broken REGISTER
  * Provide default for `ignore_broken_register`
  * Corrected logic for handling broken REGISTER.
  * tools: Add delete-local-rules
  * tools: corrected usage
  * local databases do not need history
  * debian: it seems that (undocumented?) `npm cache clear` is much more efficient.
  * traces: remove leftover tmp files from mergecap etc.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 12 Apr 2013 01:46:21 +0200

ccnq3 (0.0.138) unstable; urgency=low

  * opensips: catch errors
  * doc: add header to make file look nicer when processed
  * opensips: `dst_domain` avp is not used (esp. not set) anywhere.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 04 Apr 2013 22:16:16 +0200

ccnq3 (0.0.137) unstable; urgency=low

  * Node.js: 0.8.22

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 03 Apr 2013 14:46:15 +0200

ccnq3 (0.0.136) unstable; urgency=low

  * opensips: allow to replace invalid dialog rejection with `fix_route_dialog()`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sun, 31 Mar 2013 23:53:11 +0200

ccnq3 (0.0.135) unstable; urgency=low

  * cdr-cleaner: more progress info, better handling of degenerate cases

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 30 Mar 2013 17:22:12 +0100

ccnq3 (0.0.134) unstable; urgency=low

  * traces: do not use `exec` where you meant `spawn`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 29 Mar 2013 14:57:02 +0100

ccnq3 (0.0.133) unstable; urgency=low

  * Set dlg_match_mode as a variable.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 29 Mar 2013 00:06:45 +0100

ccnq3 (0.0.132) unstable; urgency=low

  * cdr-cleaner: do not over-delete

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 27 Mar 2013 21:09:01 +0100

ccnq3 (0.0.131) unstable; urgency=low

  * cdr-cleaner: got it

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 27 Mar 2013 00:44:41 +0100

ccnq3 (0.0.128) unstable; urgency=low

  * attempt to better handle _local vars

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Mar 2013 22:58:28 +0100

ccnq3 (0.0.127) unstable; urgency=low

  * Do not attempt to replicate if not requested to.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Mar 2013 10:12:12 +0100

ccnq3 (0.0.126) unstable; urgency=low

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Mar 2013 10:06:32 +0100

ccnq3 (0.0.125) unstable; urgency=low

  * cdr-cleaner: add `size` configuration item, document configuration.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Mar 2013 09:47:28 +0100

ccnq3 (0.0.124) unstable; urgency=low

  * couchdb_daemon: don't disable Socket.IO.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 22:44:48 +0100

ccnq3 (0.0.123) unstable; urgency=low

  * couchdb_daemon: set `zappa_prefix`

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 22:05:01 +0100

ccnq3 (0.0.122) unstable; urgency=low

  * opensips: do not throw

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 17:34:20 +0100

ccnq3 (0.0.121) unstable; urgency=low

  * bin/ccnq3: corrected URL, varname, and formatting

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 16:07:29 +0100

ccnq3 (0.0.120) unstable; urgency=low

  * bin/ccnq3: corrected munin code

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 15:55:49 +0100

ccnq3 (0.0.119) unstable; urgency=low

  * bin/ccnq3: share pico

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 15:28:27 +0100

ccnq3 (0.0.118) unstable; urgency=low

  * ccnq3-munin-couchdb: oops, wrong dependencies

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 14:31:47 +0100

ccnq3 (0.0.117) unstable; urgency=low

  * munin-couchdb: initial code

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 14:16:00 +0100

ccnq3 (0.0.116) unstable; urgency=low

  * cdr-swiper: make default interval explicit
  * cdr-cleaner: limit the size of batches, this can easily get behind.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Mar 2013 11:40:47 +0100

ccnq3 (0.0.115) unstable; urgency=low

  * Delay restart of ccnq3
  * Bump Debian compat level.
  * Reviewed the upgrade doc; added it to the main list.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 23 Mar 2013 07:02:44 +0100

ccnq3 (0.0.114) unstable; urgency=low

  * replication should include deletions

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 22 Mar 2013 17:31:54 +0100

ccnq3 (0.0.113) unstable; urgency=low

  * trace: added TCP ports

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 22 Mar 2013 00:17:49 +0100

ccnq3 (0.0.112) unstable; urgency=low

  * issues with paths in `su -l` ?

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Mar 2013 16:21:27 +0100

ccnq3 (0.0.111) unstable; urgency=low

  * oops: `failure` is not defined
  * init: `updates` might run `chown`.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 20 Mar 2013 23:53:25 +0100

ccnq3 (0.0.110) unstable; urgency=low

  * stats: convert from string

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 22:33:30 +0100

ccnq3 (0.0.109) unstable; urgency=low

  * stats: accumulate the proper field

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 22:24:50 +0100

ccnq3 (0.0.108) unstable; urgency=low

  * stats: return proper value

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 21:51:16 +0100

ccnq3 (0.0.107) unstable; urgency=low

  * stats: proper reduce function

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 20:59:13 +0100

ccnq3 (0.0.106) unstable; urgency=low

  * Oops, try again: proper variable name.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 20:52:21 +0100

ccnq3 (0.0.105) unstable; urgency=low

  * stats: corrected account field name

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 19:21:47 +0100

ccnq3 (0.0.104) unstable; urgency=low

  * stats: add per-account hourly success rate, duration, call attempts

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Mar 2013 19:16:25 +0100

ccnq3 (0.0.103) unstable; urgency=low

  * debian: New packages to simplify installation of FreeSwitch-only or
    OpenSIPS-only systems.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sun, 17 Mar 2013 11:40:56 +0100

ccnq3 (0.0.102) unstable; urgency=low

  * provisioning replication: add `filter` configuration item.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sun, 17 Mar 2013 11:02:21 +0100

ccnq3 (0.0.101) unstable; urgency=low

  * traces: support short SIP header names

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 15 Mar 2013 15:02:44 +0100

ccnq3 (0.0.100) unstable; urgency=low

  * munin/FS: changed label

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 14 Mar 2013 19:55:22 +0100

ccnq3 (0.0.99) unstable; urgency=low

  * debian: Prevent issue where installation keeps failing.
  * munin: our FS deployment doesn't provide sqlite DB anymore; using the CLI to get what we want.
  * bin: minor comment change

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 14 Mar 2013 19:42:04 +0100

ccnq3 (0.0.98) unstable; urgency=low

  * freeswitch: make the cleaner and the swiper start at relatively-prime intervals

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 12 Mar 2013 21:59:28 +0100

ccnq3 (0.0.97) unstable; urgency=low

  * opensips: progress on 408!

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 12 Mar 2013 17:39:56 +0100

ccnq3 (0.0.96) unstable; urgency=low

  * cdrs/stats: try to gather more hangup_cause

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 12 Mar 2013 00:22:18 +0100

ccnq3 (0.0.95) unstable; urgency=low

  * cdrs: The value must be a number.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 11 Mar 2013 23:05:15 +0100

ccnq3 (0.0.94) unstable; urgency=low

  * cdrs: install the stats code...

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 11 Mar 2013 22:55:36 +0100

ccnq3 (0.0.93) unstable; urgency=low

  * cdrs: started new set of statistical reports

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 11 Mar 2013 22:34:09 +0100

ccnq3 (0.0.92) unstable; urgency=low

  * opensips: add `default_outbound_route` to ease migration

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 09 Mar 2013 11:02:02 +0100

ccnq3 (0.0.91) unstable; urgency=low

  * bin: do not insert empty account
  * routeid points to a route number

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 09 Mar 2013 10:51:27 +0100

ccnq3 (0.0.90) unstable; urgency=low

  * FS: Add sip_wait_for_aleg_ack on redirect example as well.
  * debian: `npm_conf` does chown which breaks under `sh` without `-l`
  * monit: updated paths for freeswitch
  * debian: added `update` and `push` option to init.d

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 06 Mar 2013 15:44:44 +0100

ccnq3 (0.0.89) unstable; urgency=low

  * FS: it appears sip_wait_for_aleg_ack needs to be set on the B leg

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 04 Mar 2013 17:56:53 +0100

ccnq3 (0.0.88) unstable; urgency=low

  * dns: shuffle should handle invalid input better

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 04 Mar 2013 00:40:30 +0100

ccnq3 (0.0.87) unstable; urgency=low

  * debian: save a tree, clean the cache
  * host: filter provisioning replication to not include design documents
  * restrict number of revisions on (non-logging) databases
  * compact_design!
  * provisioning replication: locate provisioning documents properly
  * dns: shuffle responses for A, AAAA, and NS

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 04 Mar 2013 00:30:18 +0100

ccnq3 (0.0.86) unstable; urgency=low

  * debian: ccnq-base no longer exists here
  * debian: trying to provide better package descriptions
  * debian: better interlock of ccnq3 packages versions

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Sat, 02 Mar 2013 09:52:38 +0100

ccnq3 (0.0.85) unstable; urgency=low

  * debian: overwrite should always be defaulted

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 27 Feb 2013 12:28:05 +0100

ccnq3 (0.0.84) unstable; urgency=low

  * bin: do not set `ccnq3` setuid -- rely on /etc/ccnq3 to be properly configured.
  * bin: run set_local_defaults twice

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 27 Feb 2013 11:49:45 +0100

ccnq3 (0.0.83) unstable; urgency=low

  * lib: corrected name of parameter for ccnq3.config.location!
  * lib: version 0.4.13 published
  * updated dependency
  * By the time set_local_uri is called, config.host has most probably not been set.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 27 Feb 2013 11:26:12 +0100

ccnq3 (0.0.82) unstable; urgency=low

  * Removed extraneous 100.
  * opensips registrar: default to 2 max_contacts per AOR

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Feb 2013 16:11:25 +0100

ccnq3 (0.0.81) unstable; urgency=low

  * opensips: syntax fixes

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Feb 2013 11:47:33 +0100

ccnq3 (0.0.80) unstable; urgency=low

  * ccnq3-voice: should be a metapackage
  * opensips: limit error rate in outbound-proxy as well

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Feb 2013 11:39:46 +0100

ccnq3 (0.0.79) unstable; urgency=low

  * opensips: Allow to store ~ 1M routes.
  * opensips: force progress on opensips drouting bootup

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Feb 2013 11:27:47 +0100

ccnq3 (0.0.77) unstable; urgency=low

  * opensips: reduce amount of errors logged

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 26 Feb 2013 10:53:13 +0100

ccnq3 (0.0.76) unstable; urgency=low

  * traces: log commands for better troubleshooting

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Feb 2013 14:36:50 +0100

ccnq3 (0.0.75) unstable; urgency=low

  * opensips: Cannot modify doc in view: modifying in post-process
  * monitor/plugins: process data might no longer be available

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Feb 2013 12:59:43 +0100

ccnq3 (0.0.74) unstable; urgency=low

  * Changes in Node.js? fs.readFileSync apparently doesn't return a string (or coffee.compile doesn't support getting a buffer anymore)

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Feb 2013 12:27:07 +0100

ccnq3 (0.0.73) unstable; urgency=low

  * opensips requires a ruleid field!

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Feb 2013 12:10:30 +0100

ccnq3 (0.0.72) unstable; urgency=low

  * debian: corrected in-file changes

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Feb 2013 19:04:32 +0100

ccnq3 (0.0.71) unstable; urgency=low

  * debian: corrected regexp in mediaproxy-relay postinst.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Feb 2013 18:59:56 +0100

ccnq3 (0.0.70) unstable; urgency=low

  * bin: provide default traces upload_uri

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Feb 2013 18:53:05 +0100

ccnq3 (0.0.69) unstable; urgency=low

  * traces: better options for `find` and `xargs`
  * traces: handle errors on pipe

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 21 Feb 2013 18:32:29 +0100

ccnq3 (0.0.68) unstable; urgency=low

  * bin: factorized set_amqp (and auth)
  * bin: interfaces should not list local addresses

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 20 Feb 2013 18:05:00 +0100

ccnq3 (0.0.67) unstable; urgency=low

  * e164 model: corrections
  * e164: be liberal in what you accept

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 19 Feb 2013 18:22:39 +0100

ccnq3 (0.0.66) unstable; urgency=low

  * registrant: factorized module use
  * dialplan: be liberal in what you accept
  * freeswitch/client-sbc: ingress_target will default to sip_domain_name, which is normally the case on a client-side SBC

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 19 Feb 2013 12:06:22 +0100

ccnq3 (0.0.65) unstable; urgency=low

  * registrant: split out opensips_command

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 16:44:12 +0100

ccnq3 (0.0.64) unstable; urgency=low

  * registrant: log event
  * registrant: reimplement restart

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 16:35:24 +0100

ccnq3 (0.0.63) unstable; urgency=low

  * registrant: migrate param code out
  * registrant: split api

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 16:10:52 +0100

ccnq3 (0.0.62) unstable; urgency=low

  * bin, fix: corrected the proper username

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 15:27:23 +0100

ccnq3 (0.0.61) unstable; urgency=low

  * Document MediaProxy restart (mediaproxy-relay may not start at once because IPv4 forwarding might not have been enabled)
  * bin: validate the username of the remote URI

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 15:19:46 +0100

ccnq3 (0.0.60) unstable; urgency=low

  [ Stephane Alnet (Packaging) ]
  ** SNAPSHOT build @b866b259c77fdd600db691da8556aabe7052c224 **

  * UNRELEASED

  * couchdb_daemon: include traces
  * couchdb_daemon/traces: report errors
  * couchdb_daemon/traces: properly keep the zappa object in view.
  * couch_daemon/traces: corrected server
  * traces: corrected issues in trace_couch handler
  * TODOs
  * traces: create one queue per client
  * couch_daemon: dynamically load `include` zappajs modules.
  * couch_daemon: dynamically load `include` zappajs modules.
  * couch_daemon: dynamically load `include` zappajs modules.
  * couch_daemon: dynamically load `include` zappajs modules.
  * couch_daemon: dynamically load `include` zappajs modules.
  * traces: oops, was missing `wireshark_date`
  * Documentation
  * Use configuration instead of absolute values.
  * traces: correcting issues with lack of `end` on process termination.
  * traces: record JSON and PCAP in the same document.
  * couch_daemon: traces no longer requires format.
  * Implemented pike part of rate-limiting (#33)
  * Made "rate_limit_interval" into a variable
  * Rate limit per endpoint or number (#33)
  * Initial attempt at max_channels (#23)
  * Split applications doc out of data-dictionary.
  * Split API and applications documentation out of data-dictionary.
  * ccnq3: Corrected field name.
  * ccnq3: Corrected field name.
  * bin: use fallbacks more efficiently
  * ccnq3-client: check for fqdn
  * bin: do not create empty `interfaces`, it will prevent local script to insert them.
  * packaging: simplify calling bin/ccnq3 from postinst
  * cdr addon handler
  * sip_wait_for_aleg_ack
  * Set views for zappa apps.
  * split ccnq3-client vs ccnq3-voice installation
  * npm-apps: force exit on successful termination
  * freeswitch: 1.2.x Debian packages have new layout
  * doc: use simplified syntax
  * freeswitch: remove unnecessary/commented modules
  * mediaproxy: automatically enable IPv4 forwarding
  * freeswitch: adapt startup locations to 1.2.x
  * Explicit
  * scripts: simplify calling of `ccnq3` CLI
  * trying to work around blocking postinst
  * debian: added db_stop, should help with hanging postinst
  * debian: added db_stop, should help with hanging postinst
  * Update changelog for 0.0.59~31.gbpfed787 release

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Feb 2013 14:58:01 +0100

ccnq3 (0.0.58) unstable; urgency=low

  [ Stephane Alnet ]
  * Updated to pico 0.0.15, using `compact` and `pico.log`
  * Updated our SIP headers according to RFCs.
  * Corrected name in couchdb monit file
  * Initial code for applications/monitor
  * Corrected translation for stat plugin
  * monitor: Added vmstat
  * Corrected path for traces in munin plugin
  * Initial code for invite-analysis.
  * Make npm-apps log asynchronously
  * npm-apps: closing stdio to prevent blocking
  * Only indicate error if one actually happened.
  * Rewrote ccnq3-traces hourly cron as coffee-script.
  * invite-analysis: use configuration, make sure `exec` does not block on stdin.
  * moved invite-analysis.coffee
  * Merged all sniffer trace analysis in packet_server.
  * New (local) version of CouchDB package, trying to avoid startup issues
  * Had to rebuild CouchDB once more. Also 1.2.0 is now in testing, so I should soon be able to stop using my own versions.
  * Possible issue when passing empty to pico
  * Fixed return params from .get.
  * Updated dns server to use latest pico.
  * Need stdio for child_processes
  * More child_process stdio.
  * And more child_process changes
  * moved ccnq3-traces.cron.hourly so that it will work
  * provided wrapper for ccnq3-traces.cron.hourly
  * Forgot to make cron.hourly executable
  * Made cron.hourly less verbose
  * ccnq3_config: Removed unnecessary progress messages.
  * npm publish ccqn3_config 0.2.8
  * Fixed publication issues.
  * Corrected typo
  * monitor: corrected callback usage
  * monitor: ready for usage
  * prepaid: application was stashed away, so removed doc reference
  * opensips: Added CCNQ3-Extra header
  * monitor: corrected callback parameters
  * documentation: minor update about `monitor`
  * Made extra-info into a configurable item.
  * Updated the data-dictionary documentation to clarify OpenSIPS configuration.
  * Removed memcached from dependencies for ccnq3-opensips.
  * Added /roles/admin/adduser to work with CouchDB 1.2
  * fixed pico dependency (created bugs in loc_db)
  * Added `since_name` where needed.
  * Documentation correction.
  * Updated pico version.
  * Do not erroneously erase the configuration.
  * Accepted BYE NLR for registrant model
  * Trying to work around limitations on the other side.
  * Update for registrant.
  * No need to alert people if things fail.
  * Documented cnam-client usage
  * voicemail: Corrected @ passing.
  * monit: do not attempt to restart CouchDB, this might lead to DB errors.
  * Simplify [minor]
  * FreeSwitch CDRs: do not replicate deleted records.
  * monit: Changed to only alert when restart is needed.
  * monit: set proper install path
  * applications/monitor: moved to control-by-cake
  * applications/monitor: used `host_couchdb_uri`, should be consistent with other modules.
  * applications/monitor: Added creation of central repository.
  * cdr: Added missing `p_fun`
  * Sync'ed documentation for config parameters.
  * ccqn3_config: README
  * applications/traces: fixes for runtime
  * applications/monitor: add invite-analysis plugin
  * ccnq3_config: use config.file
  * ccnq3_config: simplify
  * ccnq3_config v0.3.0
  * applied new `ccnq3_config` usage
  * New pico package; update -> put, retrieve -> get.
  * Fixed modules.exports vs exports (bad reference)
  * publish version 0.3.1
  * Corrected exports (again)
  * ccnq3_config: v0.3.2
  * pico API: plain .put -> .create
  * Fix stray `get` and `put`
  * OpenSIPS proxy: semantics changes, put the record instead of using (old) `update`. Assuming this was a mistake in existing code given that _rev is updated the line before but that plain `put` would not have been able to use it.
  * Corrected for pico.request changes
  * Updated to pico 0.1.x
  * Publish ccnq3_config v0.3.3
  * Updated to depend on ccnq3_config 0.3.3.
  * Moved /u/ to /ccnq3/portal/ and /roles/ to /ccnq3/roles/
  * Split non-UI and UI parts of the portal.
  * Library for client-side manipulations.
  * Update js/ccnq3 for docco.
  * Docco docs.
  * Cakefile for docs.
  * Remainder of new _site stuff
  * Pointed to new pages location
  * Replaced coffeekup with coffeecup
  * In prod, use sammy.min.js in default.js
  * Doc: installation (minor)
  * no need for ikiwiki
  * ccnq3 js client: make sure we return the EventEmitter
  * Corrected event name
  * package: npm: set production=true
  * portal: updated logout process
  * portal: modified `extra_login`
  * Minimize `auth` arg use.
  * Allow for resubmission.
  * Do not get rid of event emitter, this might prevent events from firing up.
  * doc: CouchDB 1.2 no longer uses `password_sha1` and `salt`
  * Simplified registration / portal requirements, only `email` is needed.
  * portal/register: Added email format validation.
  * Added Javascript API in doc.
  * API Documentation: added details in some sections, some formatting.
  * minor cleanup for docco
  * Corrected name for $.ccnq3.roles.userdb
  * Allow multiple login attempts on the same page.
  * Upgraded jquery to 1.8.1
  * Replaced plain markdown with github-flavord-markdown
  * First attempt at ToC
  * Shorten the ToC
  * Use browser's stylesheet for now.
  * doc: corrected syntax
  * doc: CSS in Cakefile
  * css update
  * coffee-css -> ccss
  * css update
  * css
  * Start reformatting for github-flavored-markdown.
  * Fix CCS (somewhat)
  * Added missing applications in host couchapp
  * $.ccnq3: unify error reporting
  * $.ccnq3.admin.adduser: do not report 409 error on account creation Error 409 means the account already exists. Note that registration does not use this method, so this modification is safe to do.
  * host couchapp: use $.ccnq3
  * opensips: reply with 486 (instead of 404) when the user is not registered.
  * Add admin access to applications/web
  * Security: only poll data for the proper database!
  * Updated roles/userdb usage.
  * Do not skip the database verification step at login.
  * Added comments. (minor)
  * First attempt to incorporate soft-Authorization.
  * Startup and installation rewrite.
  * Make sure npm-apps uses proper path.
  * Corrected `this` in login
  * Simplified instructions
  * bootstrap-client and bootstrap-manager are meant to be ran by root
  * Ensure installation fails if coffee-script cannot be installed, etc.
  * Corrected path
  * Documentation corrections.
  * Highlight URI
  * Added nanpa_routing.
  * Add `security` in ccnq3_config
  * publish version 0.3.4
  * Updated monitor doc
  * Initial use of the new `ccnq3_config.security`.
  * Removed manager-only textbox.
  * New applications/logging
  * Corrected access to ccnq3.db.security
  * Replaced ccnq3_config with ccnq3 package
  * travis
  * Per-number registrant domain
  * Do not auto-install in monit/conf.d
  * `node-waf` requires `python`, and some dependencies use `node-waf`.
  * Fail ccnq3-client if URI file is missing.
  * Break more on invalid config. Also make the config required.
  * Made ccnq3 remove the configuration on purge.
  * Provisioning doc update.
  * Fixed control file syntax
  * Corrected debconf scripting.
  * Moved debian/templates around.
  * postinst: make sure the value is present
  * Updated ccnq3-manager-shared as well.
  * Apparently debconf uses fd 3
  * Changed to proper template type (?)
  * Changed to proper template type, updated config/postinst
  * Try reset.
  * Do not wait for provisioning replication to complete (it might take a long time) before we finish logging in.
  * Added preconditions.
  * Replaced bootstrap.sh with bootstrap.coffee
  * Properly order applications in web ui
  * Updated ccnq3 lib: do not store `undefined` in host.json
  * Trying to figure out why postinst does not finish now that debconf is in place.
  * First attempt at cli tool.
  * applications/logging is meant to be installed on the manager only.
  * pico API changed
  * compiled version, do not keep in git
  * oops, forgot to update traces re: ccnq3_config
  * Skipping is actually not an error, since the script is called during upgrade.
  * cli: there is no need to make the user a system administrator
  * Added options for inbox view.
  * Updated jquery-ui
  * Since we move along without waiting for completion, this will probably never complete OK.
  * Corrected opensips configuration syntax
  * Actually have OpenSIPS substitute the values.
  * Corrected new feature (registrant remote_ipv4)
  * Commented out the `_changes` follower -- this makes the interface unusable.
  * shift: make sure we actually deliver what is documented.
  * Might as well make this consistent.
  * Better checks, plus call pico.put properly
  * Updated to pico 0.0.15, using `compact` and `pico.log`
  * Updated our SIP headers according to RFCs.
  * Corrected name in couchdb monit file
  * Initial code for applications/monitor
  * Corrected translation for stat plugin
  * monitor: Added vmstat
  * Corrected path for traces in munin plugin
  * Initial code for invite-analysis.
  * Make npm-apps log asynchronously
  * npm-apps: closing stdio to prevent blocking
  * Only indicate error if one actually happened.
  * Rewrote ccnq3-traces hourly cron as coffee-script.
  * invite-analysis: use configuration, make sure `exec` does not block on stdin.
  * moved invite-analysis.coffee
  * Merged all sniffer trace analysis in packet_server.
  * New (local) version of CouchDB package, trying to avoid startup issues
  * Had to rebuild CouchDB once more. Also 1.2.0 is now in testing, so I should soon be able to stop using my own versions.
  * Possible issue when passing empty to pico
  * Updated dns server to use latest pico.
  * Need stdio for child_processes
  * More child_process stdio.
  * And more child_process changes
  * moved ccnq3-traces.cron.hourly so that it will work
  * provided wrapper for ccnq3-traces.cron.hourly
  * Forgot to make cron.hourly executable
  * Made cron.hourly less verbose
  * ccnq3_config: Removed unnecessary progress messages.
  * npm publish ccqn3_config 0.2.8
  * Added `do_not_record` flag (#7)
  * ccnq3.config: Add `attachment` method.
  * Load templates from attachments
  * Oops: provisioning.host_couchdb_uri must point to the database itself.
  * ccnq3-manager-shared: point the installer to the proper script
  * Host provisioning: do not default the port to 5984.
  * Restored id, it's needed in the output.
  * Make monitor and logging accessible through applications/web
  * Use the Authentication-ID to locate the endpoint on registration.
  * Added `bypass_from_auth` on registration endpoints.
  * documentation update: checking From does not ensure the caller-id will match.
  * Corrected endpoint_key for new check_from code.
  * Added missing require
  * publish version 0.3.8
  * Updated dependency (trying to get access to ccnq3.config.attachment)
  * Need to check status
  * publish version 0.3.9
  * Updated dependency level
  * fixed varname #18
  * check this
  * Validate that a pin is present
  * corrected prompt name (#18)
  * More progress info on change_password
  * check this
  * Changing code logic to ensure we get what we want.
  * backport of production settings
  * Tweaking based on ccnq2 production templates
  * Unify user-agent/server strings
  * Ported ccnq2 'redirect' dialplan template.
  * Fixed typo
  * inbox: Added 'Please wait' message
  * Added log_b_leg parameter
  * format
  * Revert 7e0a214e248994bbfa46b72262382c5c4fe6fccd , add log() call
  * inbox for host: show something useful for the manager server
  * Move client-sbc templates to make things more explicit.
  * debian: Added possibility to overwrite the configuration file.

  [ ThePontus ]
  * Corrected templates used for email_notifications (#24) github issue #24

  [ Stephane Alnet ]
  * opensips1.8: first attempt
  * doc: Simplified title for section `host`, clarified meaning.
  * Dependency on opensips 1.8.1
  * `localcache` renamed `cachedb_local`
  * Opensips1.8: drouting initial migration
  * opensips1.8: Schema update for usrloc
  * opensips1.8: schema dr_gateways
  * opensips1.8: schema dr_carriers
  * removed unused `routeid` and provided default
  * dr_rules: default empty attrs
  * dr_carriers: provide defaults
  * dr_gateways: provide defaults
  * If host_cli.coffee creates the local provisioning database, it better make sure it gets compacted.
  * Added support for UPDATE [RFC3311]
  * After migration of _design/registrant into the provisioning code, all that was left was creation and check of the local provisioning database. However this is handled by applications/host, so there is no need to duplicate it here.
  * Clarified that application/host is responsible for the management of `provisioning.local_couchdb_uri` and the associated database.
  * Corrected opensips syntax for db_url in registrant
  * Added opensips table version for registrant
  * Need datatypes for registrant.
  * registrant: ensure we have all the data we need.
  * Changed assignements for `rule` and `carrier`.
  * rules: Provide defaults for `timerec` and `priority`.
  * Corrected assignment order so that default takes action.
  * Registrant (ovh) needs IP, not hostname.
  * registrant: Corrected field name
  * We're actually not pushing coffeescript, and __indexOf is missing.
  * registrant: get the proper values from the host document, and retrieve them properly in the list!
  * doc: registrant.remote_ipv4 is not longer supported.
  * registrant: properly sort keys
  * Added expiry, with default.
  * Set a higher default expiry on registrant.
  * CDR-swiper: change location of backup cdr storage
  * CDR-swiper, doc: import example JSON CDR
  * CDR-swiper: initial code (#5)
  * It appears gwid's might be strings.
  * Removed 'doc/bugs'.
  * Cleaned up doc/
  * Second set of clean up
  * doc/upgrade: initial version
  * Properly format responses to opensips http module in all cases
  * cdr-cleaner: initial code (#4)
  * Not longer provide a default for `cdr_uri`
  * Added README.md
  * Made sure that no CDRs are generated (on the local disk!) if no `cdr_uri` is present.
  * cdr-cleaner: do not attempt to remove non-copied documents
  * Anything above 2s for T2 for internal/upstream servers is way too long.
  * doc/outbound routing
  * Changed CCNQ3-* headers to X-CCNQ3-* headers.
  * Actually collect requested headers in `ccnq_extra` and `ccnq_attrs` to unify API.
  * Ensure the operation doesn't generate invalid XML.
  * Clarified that `outbound_route` can be used for a global or a local number.
  * Simplify
  * Add `X-CCNQ3-Number-Domain` header at the client-sbc in order to allow multiple number domains per OpenSIPS client-side proxy.
  * Handle the new X-CCNQ3-Number-Domain header set by client-sbc.
  * Removed obsolete code.
  * Add support for per-endpoint `number_domain`.
  * Updated proxy `number_domain` documentation to reflect new role.
  * Added some troubleshooting data for line-side `number_domain` selection.
  * Provide a different email message for `do_not_record` users. (#27)
  * Rewrote options for `send_email_notifications`
  * voicemail notifcations: Added option `send_then_delete` (#21)
  * Give more aggressive values to T1X64.
  * Clarified documentation on valid gateway ID names.
  * get_redirects: do not attempt to log.
  * cdr-cleaner: fix dependency
  * Removed ck-specific templates.
  * Added generic, model template for E.164 carrier interface.
  * opensips/zappa: fix pico API changes for .rev
  * opensips/zappa: OpenSIPS 1.8 changed the behavior for location updates.
  * userdb: do not remove a user-db even if no _users record point to it. The database might be used by other applications (such as voicemail).
  * couchdb_daemon: initial code
  * couch_daemon: manage through daemon. The original plan was to manage through CouchDB (os_daemon) but there might be issues during initial install with CouchDB not being able to start the server and I'd rather avoid those.
  * couch_daemon: made server executable
  * Added _ccnq3 to applications/web
  * Corrected path in couchdb config. CouchDB rewrites the path by removing the matching prefix, so we need to add it back.
  * Defaulted carrier flags to 0. Using the default order makes more sense, since the whole point of having these records is to allow per-host ordering of gateways so that a gateway on the same host is chosen first.
  * Do not emit invalid dns view records.
  * (Minimally) Protect against invalid view records.
  * do not crash on delete or insert..
  * Attempt to work around extraneous Route: headers (set e.g. by CSipSimple) which have ;lr and the local host
  * API: be explicit about json results
  * Server API (/_ccnq3) documentation (initial)
  * Made HTTP and application behavior consistent.
  * Corrected voicemail api
  * oops, corrected success return value
  * voicemail API: gave more details about what is being done
  * just syncing
  * opensips: print SIP message on its own line.
  * registrant: trying to fix opensips code
  * tools (first one)
  * tools are to be ran as `ccnq3`.
  * replicate design docs into voicemail db
  * need auth
  * quote parameters in opensips.cfg
  * Added configurable expires values; provided higher default
  * Added README.md to quiet npm
  * Added links in main package.json
  * Make inbox useful: show hosts by default.
  * Package `psmisc` is required because the bootstrap=client.sh script uses `killall`.
  * create local_provisioning -- this is actually not redundant since host_cli might fail
  * Added list of supported opensips models.
  * a callback is required
  * Just keep the _rev
  * better error reporting
  * proper error reporting
  * better error reporting
  * better error reporting
  * better reporting
  * explicit index
  * avoid collision
  * report deleted rules
  * Properly handle first
  * do not put null _rev; ruleid must be larger than previous ones
  * fixes!
  * fixes!
  * fixes!
  * applications/voicemail-store (initial)
  * Remove duplicate code from voicemail API.
  * do_routing(): use number's then endpoint's.
  * minor|look
  * minor doc corrections for callback
  * Documentation: trying to present a meaningful description of the routing process.
  * Got rid of `mdwn` extensions.
  * UAC support in registrant.
  * Corrected output in case we actually do not emit data lines
  * Why? Oh why? We get a 404 on a first-time insert, and that's just fine.
  * Added `do_not_record` flag (#7)
  * ccnq3.config: Add `attachment` method.
  * Load templates from attachments
  * Oops: provisioning.host_couchdb_uri must point to the database itself.
  * ccnq3-manager-shared: point the installer to the proper script
  * Host provisioning: do not default the port to 5984.
  * Restored id, it's needed in the output.
  * Make monitor and logging accessible through applications/web
  * Use the Authentication-ID to locate the endpoint on registration.
  * Added `bypass_from_auth` on registration endpoints.
  * documentation update: checking From does not ensure the caller-id will match.
  * Corrected endpoint_key for new check_from code.
  * Added missing require
  * publish version 0.3.8
  * Updated dependency (trying to get access to ccnq3.config.attachment)
  * Need to check status
  * publish version 0.3.9
  * Updated dependency level
  * fixed varname #18
  * check this
  * Validate that a pin is present
  * corrected prompt name (#18)
  * More progress info on change_password
  * check this
  * Changing code logic to ensure we get what we want.
  * backport of production settings
  * Tweaking based on ccnq2 production templates
  * Unify user-agent/server strings
  * Ported ccnq2 'redirect' dialplan template.
  * Fixed typo
  * inbox: Added 'Please wait' message
  * Added log_b_leg parameter
  * format
  * Revert 7e0a214e248994bbfa46b72262382c5c4fe6fccd , add log() call
  * inbox for host: show something useful for the manager server
  * Move client-sbc templates to make things more explicit.
  * debian: Added possibility to overwrite the configuration file.

  [ ThePontus ]
  * Corrected templates used for email_notifications (#24) github issue #24

  [ Stephane Alnet ]
  * opensips1.8: first attempt
  * doc: Simplified title for section `host`, clarified meaning.
  * Dependency on opensips 1.8.1
  * `localcache` renamed `cachedb_local`
  * Opensips1.8: drouting initial migration
  * opensips1.8: Schema update for usrloc
  * opensips1.8: schema dr_gateways
  * opensips1.8: schema dr_carriers
  * removed unused `routeid` and provided default
  * dr_rules: default empty attrs
  * dr_carriers: provide defaults
  * dr_gateways: provide defaults
  * If host_cli.coffee creates the local provisioning database, it better make sure it gets compacted.
  * Added support for UPDATE [RFC3311]
  * After migration of _design/registrant into the provisioning code, all that was left was creation and check of the local provisioning database. However this is handled by applications/host, so there is no need to duplicate it here.
  * Clarified that application/host is responsible for the management of `provisioning.local_couchdb_uri` and the associated database.
  * Corrected opensips syntax for db_url in registrant
  * Added opensips table version for registrant
  * Need datatypes for registrant.
  * registrant: ensure we have all the data we need.
  * Changed assignements for `rule` and `carrier`.
  * rules: Provide defaults for `timerec` and `priority`.
  * Added `do_not_record` flag (#7)
  * ccnq3.config: Add `attachment` method.
  * Load templates from attachments
  * Oops: provisioning.host_couchdb_uri must point to the database itself.
  * ccnq3-manager-shared: point the installer to the proper script
  * Host provisioning: do not default the port to 5984.
  * Restored id, it's needed in the output.
  * Make monitor and logging accessible through applications/web
  * Use the Authentication-ID to locate the endpoint on registration.
  * Added `bypass_from_auth` on registration endpoints.
  * documentation update: checking From does not ensure the caller-id will match.
  * Corrected endpoint_key for new check_from code.
  * Added missing require
  * publish version 0.3.8
  * Updated dependency (trying to get access to ccnq3.config.attachment)
  * Need to check status
  * publish version 0.3.9
  * Updated dependency level
  * fixed varname #18
  * check this
  * Validate that a pin is present
  * corrected prompt name (#18)
  * More progress info on change_password
  * check this
  * Changing code logic to ensure we get what we want.
  * backport of production settings
  * Tweaking based on ccnq2 production templates
  * Unify user-agent/server strings
  * Ported ccnq2 'redirect' dialplan template.
  * Fixed typo
  * inbox: Added 'Please wait' message
  * Added log_b_leg parameter
  * format
  * Revert 7e0a214e248994bbfa46b72262382c5c4fe6fccd , add log() call
  * inbox for host: show something useful for the manager server
  * Move client-sbc templates to make things more explicit.
  * debian: Added possibility to overwrite the configuration file.

  [ ThePontus ]
  * Corrected templates used for email_notifications (#24) github issue #24

  [ Stephane Alnet ]
  * opensips1.8: first attempt
  * doc: Simplified title for section `host`, clarified meaning.
  * Dependency on opensips 1.8.1
  * `localcache` renamed `cachedb_local`
  * Opensips1.8: drouting initial migration
  * opensips1.8: Schema update for usrloc
  * opensips1.8: schema dr_gateways
  * opensips1.8: schema dr_carriers
  * removed unused `routeid` and provided default
  * dr_rules: default empty attrs
  * dr_carriers: provide defaults
  * dr_gateways: provide defaults
  * If host_cli.coffee creates the local provisioning database, it better make sure it gets compacted.
  * Added support for UPDATE [RFC3311]
  * After migration of _design/registrant into the provisioning code, all that was left was creation and check of the local provisioning database. However this is handled by applications/host, so there is no need to duplicate it here.
  * Clarified that application/host is responsible for the management of `provisioning.local_couchdb_uri` and the associated database.
  * Corrected opensips syntax for db_url in registrant
  * Added opensips table version for registrant
  * Need datatypes for registrant.
  * registrant: ensure we have all the data we need.
  * Changed assignements for `rule` and `carrier`.
  * rules: Provide defaults for `timerec` and `priority`.
  * Corrected assignment order so that default takes action.
  * Registrant (ovh) needs IP, not hostname.
  * registrant: Corrected field name
  * We're actually not pushing coffeescript, and __indexOf is missing.
  * registrant: get the proper values from the host document, and retrieve them properly in the list!
  * doc: registrant.remote_ipv4 is not longer supported.
  * registrant: properly sort keys
  * Added expiry, with default.
  * Set a higher default expiry on registrant.
  * CDR-swiper: change location of backup cdr storage
  * CDR-swiper, doc: import example JSON CDR
  * CDR-swiper: initial code (#5)
  * It appears gwid's might be strings.
  * Removed 'doc/bugs'.
  * Cleaned up doc/
  * Second set of clean up
  * doc/upgrade: initial version
  * Properly format responses to opensips http module in all cases
  * cdr-cleaner: initial code (#4)
  * Not longer provide a default for `cdr_uri`
  * Added README.md
  * Made sure that no CDRs are generated (on the local disk!) if no `cdr_uri` is present.
  * cdr-cleaner: do not attempt to remove non-copied documents
  * Anything above 2s for T2 for internal/upstream servers is way too long.
  * doc/outbound routing
  * Changed CCNQ3-* headers to X-CCNQ3-* headers.
  * Actually collect requested headers in `ccnq_extra` and `ccnq_attrs` to unify API.
  * Ensure the operation doesn't generate invalid XML.
  * Clarified that `outbound_route` can be used for a global or a local number.
  * Simplify
  * Add `X-CCNQ3-Number-Domain` header at the client-sbc in order to allow multiple number domains per OpenSIPS client-side proxy.
  * Handle the new X-CCNQ3-Number-Domain header set by client-sbc.
  * Removed obsolete code.
  * Add support for per-endpoint `number_domain`.
  * Updated proxy `number_domain` documentation to reflect new role.
  * Added some troubleshooting data for line-side `number_domain` selection.
  * Provide a different email message for `do_not_record` users. (#27)
  * Rewrote options for `send_email_notifications`
  * voicemail notifcations: Added option `send_then_delete` (#21)
  * Give more aggressive values to T1X64.
  * Clarified documentation on valid gateway ID names.
  * get_redirects: do not attempt to log.
  * cdr-cleaner: fix dependency
  * Removed ck-specific templates.
  * Added generic, model template for E.164 carrier interface.
  * opensips/zappa: fix pico API changes for .rev
  * opensips/zappa: OpenSIPS 1.8 changed the behavior for location updates.
  * userdb: do not remove a user-db even if no _users record point to it. The database might be used by other applications (such as voicemail).
  * couchdb_daemon: initial code
  * couch_daemon: manage through daemon. The original plan was to manage through CouchDB (os_daemon) but there might be issues during initial install with CouchDB not being able to start the server and I'd rather avoid those.
  * couch_daemon: made server executable
  * Added _ccnq3 to applications/web
  * Corrected path in couchdb config. CouchDB rewrites the path by removing the matching prefix, so we need to add it back.
  * Defaulted carrier flags to 0. Using the default order makes more sense, since the whole point of having these records is to allow per-host ordering of gateways so that a gateway on the same host is chosen first.
  * Do not emit invalid dns view records.
  * (Minimally) Protect against invalid view records.
  * do not crash on delete or insert..
  * Attempt to work around extraneous Route: headers (set e.g. by CSipSimple) which have ;lr and the local host
  * API: be explicit about json results
  * Server API (/_ccnq3) documentation (initial)
  * Made HTTP and application behavior consistent.
  * Corrected voicemail api
  * oops, corrected success return value
  * voicemail API: gave more details about what is being done
  * just syncing
  * opensips: print SIP message on its own line.
  * registrant: trying to fix opensips code
  * tools (first one)
  * tools are to be ran as `ccnq3`.
  * replicate design docs into voicemail db
  * need auth
  * quote parameters in opensips.cfg
  * Added configurable expires values; provided higher default
  * Added README.md to quiet npm
  * Added links in main package.json
  * Make inbox useful: show hosts by default.
  * Package `psmisc` is required because the bootstrap=client.sh script uses `killall`.
  * create local_provisioning -- this is actually not redundant since host_cli might fail
  * Added list of supported opensips models.
  * a callback is required
  * Just keep the _rev
  * better error reporting
  * proper error reporting
  * better error reporting
  * better error reporting
  * better reporting
  * explicit index
  * avoid collision
  * report deleted rules
  * Properly handle first
  * do not put null _rev; ruleid must be larger than previous ones
  * fixes!
  * fixes!
  * fixes!
  * applications/voicemail-store (initial)
  * Remove duplicate code from voicemail API.
  * do_routing(): use number's then endpoint's.
  * minor|look
  * minor doc corrections for callback
  * Documentation: trying to present a meaningful description of the routing process.
  * Got rid of `mdwn` extensions.
  * UAC support in registrant.
  * Corrected output in case we actually do not emit data lines
  * Why? Oh why? We get a 404 on a first-time insert, and that's just fine.
  * OpenSIPS fixes for registrant.
  * Update doc ref (minor)
  * Cleanup SIP headers before sending outside.
  * Removed old docs
  * Removed all portal/web/inbox/usercode/roles/public
  * Added code to compensate
  * `public` was moved
  * Need to update installation instructions.
  * Properly start the voicemail-store agent
  * Corrected, documented, API
  * (minor) doc update on `emergency_domain`
  * no longer handling usercode
  * opensips registrant changes
  * Properly renamed registrant components.
  * other adaptations to registrant code changes
  * doc updates for registrant
  * Added `registrant_realm` and configured registrant authentication.
  * Corrected opensips syntax.
  * Update dependencies & versions
  * little debug
  * tools/rule: new bulk splitter
  * fix typo
  * fix typo
  * made async
  * more progress data in tools/rules
  * fixed this
  * Trying to fix unclean end
  * Trying to fix unclean end
  * Trying to fix unclean end
  * Trying to fix unclean end
  * Proper serialization
  * work around byline module not actually pausing
  * problem with `request` and a mix of pipe/non-pipe?
  * report queue depth
  * testing b2b_entities avp-based authentication
  * we need the registrant realm to auth
  * force installation of the cli
  * support for registrant outbound calls
  * updated dependency for registrant dependencies
  * Moved nanpa_routing out, replaced with optional route call
  * make sure ruleid is an integer, not a string
  * tools: report the actual number of deleted rules
  * new tool: delete-rules
  * Outbound-proxy may have very large routing tables.
  * opensips_http_db: moving to zappajs 0.4
  * cleanup outbound calls
  * Clarify Debian version requirements (#37)
  * Attempt to automatically transfer Number-Domain information.
  * Corrections for #37
  * Voicemail: provide more information about number_domain being used.
  * Voicemail: more details
  * oops, revert
  * X-CCNQ3-Number-Domain is now set by inbound-sbc and client-side proxy. (#35)
  * Clearly delineated CouchDB dependency (client and manager, but not manager-shared). Added RabbitMQ dependency for upcoming development.
  * Removed ccnq-base, split into separate project.
  * rule_id must be unique accross all rules in the domain
  * debug!
  * Bumped-up OpenSIPS memory.
  * Better registrant server management
  * registrant: proper code context
  * freeswitch agent: avoid duplicate slash
  * properly formatted
  * Include carrier-vars.xml to provide carrier- (installation-)wide defaults (e.g. in an installation package).
  * Added carrier-(in|e)gress templates (e.g. for codec manipulation).
  * Document how to add SSL support to CouchDB.
  * Add RabbitMQ as a dependency.
  * OpenSIPS introspection modules.
  * Build AMQP URI from CouchDB URI (at least for bootstrap).
  * Clarifications.
  * Unified how manager-side databases are handled.
  * Updated keywords for ccnq3.
  * testing with newer version of opensips
  * Opensips -> 1.8.2-2
  * Rely on the `ccnq3` CLI.
  * reverted to installing a link, it works better.
  * spawn usage
  * require() is relative to the script, not the cwd
  * Use absolute path.
  * Corrected varname
  * Corrected varname; defaulted config.applications
  * not getting applications
  * Issues when switching from root to ccnq3 user: HOME is invalid (probably others).
  * Better capture error codes
  * Tried to make bootstrap-*.sh scripts idempotent.
  * Moved bootstrap-*.sh into their respective .postinst files.
  * Nobody was setting local_couchdb_uri anymore?
  * lib/ccnq3: very bad idea to log to stdout.
  * Test for actual system flag presence.
  * Installer fixes
  * Cannot used `sed` to subsitute slashes. Overwrite admin password.
  * Removed cruft
  * Do not depend on functionality that was migrated to the portal.
  * Provides defaults for users.couchdb_uri and provisioning.host_couchdb_uri on a manager system.
  * couchdb/rabbitmd -- Erlang is a pain to deal with.
  * Reconfigure RabbitMQ and CouchDB at once.
  * Maybe this doesn't work.
  * Oops
  * I can't remember why 3<&- was needed.
  * More information, thank you.
  * Still can't remember, but it didn't help here.
  * Again.
  * Expanding
  * Password doesn't work.
  * Not needed.
  * The local provisioning record for the manager cannot be saved until the provisioning database is created (by applications/provisioning).
  * Simplified local.ini
  * Actually simplify this by using pico.update.
  * Corrected varname
  * Made min_pin_length into a config parameter.
  * Do not provide a (wrong) number_domain if none is available.
  * Added timezone support for voicemail announcements.
  * Need to be able to say "onze"
  * Added documentation for voicemail timezone
  * Fixed @user.time: the input is already a string.
  * Simplified how rule IDs are assigned.
  * Need all days!
  * Messages are calls to the voicemail system which contain actual audio content. (#41)
  * applications/dns: We ought to return v4 and v6 additional records.
  * Documented voicemail-store options.
  * Augmented documentation on CouchDB authentication and authorization (both standard and ccnq3-specific).
  * Add applications/voicemail-store in list of applications.
  * Added documentation for applications/couchdb_daemon
  * lib/ccnq3: initial amqp support
  * Added documentation for AMQP. Marked less-common options as such.
  * publish version 0.4.1
  * lib/ccnq3: explicitely return nothing
  * Durable exchange
  * No auto-delete exchange
  * Changing exchanges
  * Do not persist connections by default -- the application will not end if the connection is never closed.
  * Prefer the object form for connection.
  * No longer taking care of the web portal here.
  * Remove link
  * Bootstrap code was moved to the debian postinst files.
  * France dialplan: trying to deal with the national madness
  * AMQP: If the URI says 'amqp://host:port/ccnq3' then the vhost is `ccnq3`.
  * Show how to retrieve messages from the `logging` exchange.
  * Using `ccnq3.log` where it makes sense.
  * Correcting `console.log` to `console.error` where needed.
  * simplify: ccnq3 just console.dir()s the message
  * lib/ccnq3: simplify code, using `ccnq3` as alias for `module.exports`
  * lib/ccnq3: `ccnq3.db.add_user`, `ccnq3.db.add_roles`
  * publish version 0.4.7
  * bin/ccnq3: `set local defaults` shares common code; use new ccnq3 APIs.
  * bin/ccnq3: `add user`
  * bin/ccnq3: `add host`
  * Corrected typo
  * publish version 0.4.8
  * Updated rev
  * bin/ccnq3: Better progress data
  * bin/ccnq3: base corrections
  * lib/ccnq3: pico updates
  * publish version 0.4.9
  * bin/ccnq3: pico updates
  * bin/ccnq3: kind of annoying this way
  * bin/ccnq3: provide hex_sha1
  * bin/ccnq3: more fixes
  * manager.postinst: make sure the hostname is available
  * doc: qualify "run as root"
  * doc: reformat installation doc for github markdown.
  * doc: use the new bin/ccnq3 functionality rather than the (unmaintained) portal.
  * doc: corrected typos in applications names.
  * munin: corrected traces path for dumpcap_reasons_abs
  * munin-plugins: provide proper context
  * installation: you really should run NTP.
  * readme updated
  * freeswitch/agent: report errors and do not process commands in case of failure (first attempt at #42
  * applications/traces: renamed agent -> couch_agent
  * applications/traces: split the server code between trace-specific and web-specific; introduced amqp_agent.
  * traces: implemented trace_couch
  * traces: default to AMQP request / CouchDB response.
  * traces: not trying to keep old retrieval methods
  * traces: added couchdb_daemon proxy
  * bin/ccnq3: allow to use underscore instead of space in command names
  * bin/ccnq3: install as setuid ccnq3, accessible to users in group `ccnq3`
  * split ccnq3-manager package, so that the CouchDB and RabbitMQ configurations can be replicated on another server (e.g. to help bootstrap a `shared` host).
  * bin/ccnq3 is now setuid and will-do-the-right-thing when ran as root.
  * corrected variable location
  * Need to expand variables.
  * Setting ccnq3 setuid was not enough; enforcing differently.
  * bin/ccnq3: make sure crypto is available everywhere
  * FreeSwitch templates: Privacy overwrite at the carrier/consumer interface.
  * ccnq3: 'add_local_service' to enable services during postinst.
  * ccnq3-couchdb: add default services!
  * ccnq3-couchdb: make it consistent with bin/ccnq3
  * ccnq3-couchdb: moved add_local_service calls outside of the initial installation
  * freeswitch: do not attempt to overwrite target unless we got valid data (#42)
  * Refuse ptime negotiation.
  * Switching to Debian-maintained CouchDB 1.2.0-5.
  * updated agent!
  * bin: better error handling in add_host
  * Properly set rabbitmq URI
  * lib: working around potential hazards
  * lib: corrected varname
  * bin: save in add_host
  * CVEs!
  * deb: nodejs 0.8.18 ... I'm pretty sure we're using newer APIs than 0.6.
  * Properly initialize prov_doc
  * pico requires callbacks
  * ccnq3: better error reporting
  * ccnq3: use proper URI for new host record creation.
  * tools/rules: enforce specs: groupid is integer; rule format.
  * tools/rules: enforce specs: groupid is integer; rule format.
  * tools/rules: conversely, `ruleid` is not specified. Use `rule` as the ID.
  * lib: pretty-print the configuration file
  * lib: publish 0.4.12
  * In a manager, host_couchdb_uri will not be available.
  * bin: force slashes in amqp URI.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Fri, 01 Feb 2013 00:20:00 +0100

ccnq3 (0.0.55) unstable; urgency=low

  * Corrected cache resolver reference in documentation.
  * Stay on the 0.3.x zappajs path for now.
  * Stashed away unsupported code.
  * Explicited pico dependency.
  * Provide proper error even in complex failure case.
  * ccnq3_config: Removed dependency on runtime presence of coffee.
  * Cleanup public/js and public/css, removed unused components.
  * public/js/menu is unused; currently applications/web uses static menus.
  * Added getent test to prevent unnecessary error messages during postint.
  * Reviewed buglist.
  * Pruned /doc
  * Added HTTPS options for applications/web
  * Added cache for static `/public` documents in applications/web

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 25 Jun 2012 10:40:56 +0200

ccnq3 (0.0.54) unstable; urgency=low

  * Fixed host records creation
  * Corrected installation documentation.
  * Provided proper reporting of ccnq3_config database errors.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 19 Jun 2012 00:52:39 +0200

ccnq3 (0.0.53) unstable; urgency=low

  * Corrected npm call for compact command
  * Updated documentation
  * (initial) Coded callback from within voicemail
  * Made msg_uri into a method.
  * Simplified Message object creation.
  * Fixed access to this
  * Corrected return_call to keep navigating
  * Added traces_proxy to the portal.
  * Added trace_server as an agent (on the target host running the trace)
  * Documented the trace server.
  * Corrected JSON formatting in trace_server
  * Corrected execution of shell scripts in trace_server
  * Added automated start and stop of trace_server
  * (minor) Updated order of applications in host GUI
  * Added error handler to avoid crashes
  * Added compression of pcap files
  * Corrected termination of trace_server request
  * Corrected error handling in trace_proxy
  * Corrected error handling in trace_proxy
  * Updated dependency
  * Document the access:traces: role
  * (minor) Updated documentation
  * (initial) Created UI for traces
  * Added list of hosts for selection in trace UI
  * Use sammy rather than $.couch for queries
  * Corrected view name in trace UI
  * Replaced list of hosts with list of hosts that can actually run a trace.
  * Corrected id for host and simplified id management
  * Added main menu entry to add numbers
  * Added newly added number-record fields to the UI
  * Moved the generic replication code out of applications/host and into the pico module
  * Aggregated opensips location records as requested.
  * Added aggregation of local FreeSwitch CDR database into global one.
  * Documented URI for aggregation; corrected naming of cdr aggregation URI.
  * Corrected choice of URLs for ursloc aggregation
  * Created applications/cdrs and applications/locations
  * Updated documentation to clarify use of aggregation processes.
  * Renamed so that it could be located by the config options names
  * Updated documentation.
  * Updated documentation.
  * Ensure dependency on latest pico version
  * Documented registrant_sip_domain (even though it still needs to be implemented, it will be required in production).
  * Implemented `registrant_host`
  * Updated dependencies to pico 0.0.11f
  * Noted that registrant_host needs to be added to the web UI.
  * Removed httapi configuration since we ended up not using the module.
  * Corrected the munin plugins; split them into separate Debian packages; split ccnq3-voice into separate packages.
  * Replaced the track_user agent (which never did remove databases) with a login check & attempt to create the user database.
  * Simplified roles/login.coffee; exported it into /public/js/ to simplify versioning for applications/roles.
  * Removed obsolete reference to track_users in ccnq3_roles
  * Removed referenced to deleted module (code now in /public/js/roles/login).
  * Allowed to receive 404 error
  * Do not cache previous result.
  * Reverted back to using zappa to provide roles/login
  * Removed missing reference to create_database (merged into profile_login).
  * Corrected access to profile var
  * Ensured that the configuration gets recorded. Make sure cdb is available. Corrected revs_limit code (new request module used by cdb doesn't work for a native number). Corrected security update so as to not overwrite the list of readers, since multiple users might have access to the same database.
  * Documented the portal API.
  * Changed npm-apps to only throw after all sub-steps have been processed.
  * Corrected FS profile changes handler to only handle commands that related to profiles.
  * Updated applications/roles to no longer use cdb. Used latest version of pico.
  * Documented the new API for database creation.
  * Rewrote INSTALL as markdown, updated documentation layout.
  * Revised doc layout to be able to use ikiwiki for doc generation.
  * Enforced version of OpenSIPS (since 1.8 might contain non-backward-compatible updates).
  * Simplified README, point to online documentation.
  * Formatted markdown docs.
  * Added Bash and OpenSSL as dependencies since the bootstrap(-manager).sh scripts depend on them.
  * Documented cnam-client. Removed unnecessary dependency.
  * Removed obsolete/cruft files.
  * Added a section to document the available applications.
  * Documented scripts.
  * Split rewrite_host_couchdb_uri
  * Modelled create_user() after the voicemail procedure.
  * lib/password is now its own source tree
  * Added lint tests.
  * Set the actual OpenSIPS version.
  * Provided charging info on inbound calls so that redirection to outbound could work.
  * Clarified endpoint UI
  * Added applications/cdrs and applications/locations to automatically-provisionned manager applications (otherwise the cfg.update code will never get executed).
  * Updated pico dependencies to latest version.
  * Split ccnq3-voice.postinst into two pieces for freeswitch and opensips. Also split the .install file between freesiwtch, opensips, and mediaproxy-relay packages.
  * Removed obsolete code.
  * Updated comment in opensips-http-proxy to reflect the changes in ccnq3-opensips packaging.
  * Removed obsolete installation docs.
  * Opened bug re: charging of forwarded calls.
  * Changed to re-attempt user creation (in case it failed the first time around) and push authorizations again.
  * Added alternate endpoint allocation design description.
  * Made ccnq-base into a suggestion, not a requirement.
  * Updated dependencies for ccnq3-traces.
  * Updated dependency for ccnq3.
  * (minor,doc,typo)
  * Updated code based on zappa issue #125
  * Provided better error notification.
  * host/usercode: Simplified logging.
  * Reverted operations order to make sure there is a ready callback.
  * Corrected invalid template for pico callback.
  * Corrected keyword usage.
  * Quiet ccnq3-opensips installer
  * Updated CouchDB dependency.
  * Fixed error on newer CoffeeScript versions.
  * Simplified the filter definition.
  * Worked around a potential situation where `$if` is undefined.
  * Modularized host usercode
  * Modularized provisioning usercode
  * Removed obsolete doc file
  * Corrected location for required modules.
  * Cleaned-up/referenced testing needs
  * Corrected trace's usercode form selector.
  * Retrieved host name from the form.
  * Added a callback to $.ccqn3.push_document. Added replication of the trace command so that it actually gets executed.
  * Added styling to client-side logs.
  * Added notification of proper receipt of response from trace server.
  * Added record of requested traces on the target server.
  * Added error reporting in trace_server.
  * Restricted the size of the capture files to try to wean out invalid files.
  * Corrected date-handling maths.
  * Changed the timeout to query the server to account for replication in the back-end.
  * Cleaned up trace-server, provide better logging.
  * For now, enforced not re-running broken queries.
  * Made trace-proxy work as store-and-forward since streaming proxy does not work well with bodyParser et al.
  * publish version 0.0.70
  * Changed ccnq3_web timer to be at least the one used by the traces proxy.
  * Reverted to using streaming for traces proxy.
  * Corrected jquery syntax for text insertion.
  * Reformatted packets ui to use CSS
  * Styling traces
  * Simplified coffeelint invocation.
  * Set JSON CDR database URI as parameter.
  * Updated applications/freeswitch to support config.cdr_uri
  * Removed cruft comment.
  * Changed default inbox sort order.
  * Corrected call to get the sort type.
  * Added crude offset/total_rows/shown_rows
  * Corrected URI for compaction of local CDR database
  * Added some styling to sniffer traces.
  * Made the Call-ID clickable.
  * Simplified layout for sniffer traces.
  * Updated jquery/sammy
  * Corrected target field name.
  * Forced use of a new set of CouchDB databases in a ccnq3-specific directory.
  * Escape data in HTML; give meaningful notice when no data is returned.
  * Upgraded code to support CouchDB 1.2
  * Commented (currently unused) user management couchapp.
  * Proper key ref
  * Moved private/ into its on subproject
  * Moved slayers/ into their own
  * Updated documentation; especially, got rid of redundant, small doc files.
  * Removed lighttpd2 example; now that we provide a reverse proxy this is no longer required.
  * Moved old bugs out of the way.
  * removed old doc
  * remove old code
  * applications/dns: removed cdb
  * applications/provisioning: migrated to pico
  * Update ccnq3_config to use pico. (Created new version 0.2.5 of ccnq3_config.)
  * applications/dns: forgot to add installer for pico dependency
  * applications/emergency: updated to use pico
  * applications/cdrs: Updated to use pico.
  * applications/portal: Updated to use pico.
  * Corrected ccnq3_config
  * applications/cdrs: Corrected security update call.
  * applications/portal: Added body response.
  * applications/portal: retrieve body as json, collect login error.
  * Added proper dependencies (used in startup scripts)
  * Removed remaining references to cdb.
  * Removed duplicate.
  * Updated esl dependency (due to bugfix)
  * Updated couchdb version dep.
  * Removed ccnq3_roles.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Mon, 18 Jun 2012 22:50:55 +0200

ccnq3 (0.0.52) unstable; urgency=low

  * Worked around a potential situation where `$if` is undefined.
  * Modularized host usercode
  * Modularized provisioning usercode
  * Removed obsolete doc file
  * Corrected location for required modules.
  * Cleaned-up/referenced testing needs
  * Corrected trace's usercode form selector.
  * Retrieved host name from the form.
  * Added a callback to $.ccqn3.push_document. Added replication of the trace command so that it actually gets executed.
  * Added styling to client-side logs.
  * Added notification of proper receipt of response from trace server.
  * Added record of requested traces on the target server.
  * Added error reporting in trace_server.
  * Restricted the size of the capture files to try to wean out invalid files.
  * Corrected date-handling maths.
  * Changed the timeout to query the server to account for replication in the back-end.
  * Cleaned up trace-server, provide better logging.
  * For now, enforced not re-running broken queries.
  * Made trace-proxy work as store-and-forward since streaming proxy does not work well with bodyParser et al.
  * Changed ccnq3_web timer to be at least the one used by the traces proxy.
  * Reverted to using streaming for traces proxy.
  * Corrected jquery syntax for text insertion.
  * Reformatted packets ui to use CSS
  * Styling traces
  * Simplified coffeelint invocation.
  * Set JSON CDR database URI as parameter.
  * Updated applications/freeswitch to support config.cdr_uri
  * Removed cruft comment.
  * Changed default inbox sort order.
  * Corrected call to get the sort type.
  * Added crude offset/total_rows/shown_rows
  * Corrected URI for compaction of local CDR database
  * Added some styling to sniffer traces.
  * Made the Call-ID clickable.
  * Simplified layout for sniffer traces.
  * Updated jquery/sammy
  * Corrected target field name.
  * Forced use of a new set of CouchDB databases in a ccnq3-specific directory.
  * Escape data in HTML; give meaningful notice when no data is returned.
  * Upgraded code to support CouchDB 1.2
  * Commented (currently unused) user management couchapp.
  * Proper key ref
  * Moved private/ into its on subproject
  * Moved slayers/ into their own
  * Updated documentation; especially, got rid of redundant, small doc files.
  * Removed lighttpd2 example; now that we provide a reverse proxy this is no longer required.
  * Moved old bugs out of the way.
  * removed old doc
  * remove old code
  * applications/dns: removed cdb
  * applications/provisioning: migrated to pico
  * Update ccnq3_config to use pico. (Created new version 0.2.5 of ccnq3_config.)
  * applications/dns: forgot to add installer for pico dependency
  * applications/emergency: updated to use pico
  * applications/cdrs: Updated to use pico.
  * applications/portal: Updated to use pico.
  * Corrected ccnq3_config
  * applications/cdrs: Corrected security update call.
  * applications/portal: Added body response.
  * applications/portal: retrieve body as json, collect login error.
  * Added proper dependencies (used in startup scripts)
  * Removed remaining references to cdb.
  * Removed duplicate.
  * Updated esl dependency (due to bugfix)

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 14 Jun 2012 15:53:14 +0200

ccnq3 (0.0.51-187) unstable; urgency=low

  * Voice server installation
  * Clarified which parameters are used for inbound calls.
  * (initial) Emergency call routing server.
  * Replaced old (lua-based) cnam client with new (esl-socket/node.js-based) cnam client.
  * Removed duplicate attempt at installating the voicemail usercode.
  * Embedded emergency server.
  * Simplified configuration code of registrant
  * Added provisioning options for registrant and emergency
  * Added workaround: it might take a short while for the agent to create the configuration file
  * Forced success of opensips.
  * Corrected access to the request's URL for Logging purposes.
  * Removed extraneous installation option "couchapps" for package which does not need it.
  * Updated documentation for emergency server.
  * Fixed syntax error in emergency JSON configuration.
  * Added loose-route-disabled pathway for emergency server.
  * Fixed emergency router's opensips syntax
  * Added support for "emergency_domain" in the endpoint web UI
  * Documented voicemail_notifier parameter for OpenSIPS.
  * Moved location -> routing_data resolution out of outbound-proxy.
  * Change "local French" to "international" mapping for special numbers so that they can be effectively routed using LCR.
  * Added/corrected documentation.
  * Rewrote documentation for the emergency server.
  * Corrected opensips_http_db so that it does not crash on request errors.
  * doc.voicemail might not be available
  * Clarified which model generated the error
  * Corrected bug where the selector for endpoint was overwritten.
  * The OpenSIPS json module translates boolean values into strings. Corrected OpenSIPS code to test the proper value.
  * Fixed $hdr() syntax for emergency lookup
  * Working around loudness in forwarder code
  * Initial code for voicemail email notifications.
  * Documented file_base and the use of Milk templates for email notifications.
  * (minor,fixme)
  * Fixed dependencies for voicemail email_notifier
  * Provided util to email_notifier
  * Documented in which cases the "mailer" host configuration is required.
  * Attempted to fix timing issues in voicemail message upload
  * Need to make sure we capture RECORD_STOP
  * Worked around proper end-of-upload notification: wait before sending the email out.
  * Provided proper URI to CouchDB to retrieve attachment
  * Swapped international and national rule (FR) so that they apply properly
  * (initial) Added _compact code in applications
  * Added compact command to the ccnq3 package and cron.daily for compact to the Debian package.

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Tue, 13 Mar 2012 13:02:15 +0100

ccnq3 (0.0.50-10) unstable; urgency=low

  * Host web app

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Thu, 29 Dec 2011 23:07:53 +0100

ccnq3 (0.0.45) unstable; urgency=low

  * Re-package ccnq-base
  * Split ccnq3-voice

 -- Stephane Alnet (Packaging) <stephane@shimaore.net>  Wed, 28 Dec 2011 13:09:30 +0100

ccnq3 (0.0.44) unstable; urgency=low

  * Host app

 -- Stephane Alnet <stephane@shimaore.net>  Wed, 28 Dec 2011 00:18:31 +0100

ccnq3 (0.0.40) unstable; urgency=low

  * Provisioning replication

 -- Stephane Alnet <stephane@shimaore.net>  Tue, 27 Dec 2011 23:52:31 +0100

ccnq3 (0.0.33) unstable; urgency=low

  * New web application

 -- Stephane Alnet <stephane@shimaore.net>  Tue, 27 Dec 2011 18:54:31 +0100

ccnq3 (0.0.30) unstable; urgency=low

  * Only do "start" in bootstrap.

 -- Stephane Alnet <stephane@shimaore.net>  Tue, 27 Dec 2011 17:13:00 +0100

ccnq3 (0.0.28) unstable; urgency=low

  * Fixed ccnq3.postrm

 -- Stephane Alnet <stephane@shimaore.net>  Tue, 27 Dec 2011 16:50:14 +0100

ccnq3 (0.0.26) unstable; urgency=low

  * bootstrap-local

 -- Stephane Alnet <stephane@shimaore.net>  Tue, 27 Dec 2011 14:59:59 +0100

ccnq3 (0.0.25) unstable; urgency=low

  * commit 1181e43af90230880fa0187b7242d5286f3a4fc7

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 19:17:20 +0100

ccnq3 (0.0.24) unstable; urgency=low

  * Run "updates" when upgrading.

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 19:13:39 +0100

ccnq3 (0.0.21) unstable; urgency=low

  * Default portal fixes

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 18:55:16 +0100

ccnq3 (0.0.20) unstable; urgency=low

  * commit 9988683288c9a7d059b02799a0c7930a70a93c27

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 17:02:52 +0100

ccnq3 (0.0.19) unstable; urgency=low

  * New bootstrap (git 5120d4fd11246d1e2b1c1519049eea33186d1c1b)
  * Fail on errors (git afca34afdd9c83995f2f8605ecc0b844fd4325d4)

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 16:42:32 +0100

ccnq3 (0.0.16) unstable; urgency=low

  * Fix cron.hourly for traces

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 15:53:57 +0100

ccnq3 (0.0.15) unstable; urgency=low

  * git 92fc0d08df9cd4790d8c547216f5b813ddd032d4

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 15:48:49 +0100

ccnq3 (0.0.14) unstable; urgency=low

  * Trying to package the code

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 14:07:19 +0100

ccnq3 (0.0.12) unstable; urgency=low

  * Initial release

 -- Stephane Alnet <stephane@shimaore.net>  Fri, 23 Dec 2011 13:45:41 +0100
